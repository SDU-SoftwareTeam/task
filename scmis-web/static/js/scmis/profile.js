/*Obfuscated by JShaman.com*/var apiKeys=['id','username','department','major','role','class','name'];$(document)['ready'](function(){AJAX({'url':'/api/user/querySelf','type':'POST','success':function(_0x10c2c5){if(_0x10c2c5['errcode']==='0'){_0x10c2c5=_0x10c2c5['data'][0x0];for(let _0x67e741=0x0;_0x67e741<apiKeys['length'];_0x67e741++){$('#input-profile_'+apiKeys[_0x67e741])['val'](_0x10c2c5[apiKeys[_0x67e741]]);}}else{myAlert(_0x10c2c5['errmsg'],'danger');}if(_0x10c2c5['role']==='2'){buildTeacherView();}}});$('#btn-Save')['on']('click',saveClicked);});$('#btn-infSave')['on']('click',function(){let _0xdf5c9d=JSON['stringify']({'name':$('#input-profile_name')['val'](),'department':$('#input-profile_department')['val'](),'major':$('#input-profile_major')['val'](),'class':$('#input-profile_class')['val']()});AJAX({'url':'/api/user/edit','type':'POST','data':_0xdf5c9d,'contentType':'application/json','beforeSend':function(){NProgress['start']();$('#btn-profileuserConfirm')['text']('修改中...')['attr']('disabled',!![]);},'complete':function(){NProgress['done']();$('#btn-profileuserConfirm')['text']('确认修改')['attr']('disabled',![]);},'success':function(_0x5ea92f){if(_0x5ea92f['errcode']==='0'){alert('修改成功！');location['reload']();}else{alert('修改失败~');}}});});function saveClicked(){let _0x264193={};_0x264193['password']=$('#input-profile_originPassword')['val']();_0x264193['newPassword']=$('#input-profile_newPassword')['val']();_0x264193['newPasswordConfirm']=$('#input-profile_newPasswordConfirm')['val']();if(_0x264193['newPassword']!==''){if(_0x264193['newPassword']!==_0x264193['newPasswordConfirm']){myAlert('新密码和确认密码不匹配','danger');$('#input-profile_newPasswordConfirm')['val']('');return;}}else{delete _0x264193['newPassword'];}delete _0x264193['newPasswordConfirm'];delete _0x264193['id'];let _0x337777=JSON['stringify'](_0x264193);AJAX({'url':'/api/user/editSelf','type':'POST','data':_0x337777,'contentType':'application/json','beforeSend':function(){$('#btn-Save')['text']('修改中...')['attr']('disabled',!![]);NProgress['start']();},'complete':function(){$('#btn-Save')['text']('确认修改')['attr']('disabled',![]);NProgress['done']();},'success':function(_0x117d0f){if(_0x117d0f['errcode']==='0'){myAlert(_0x117d0f['errmsg'],'success');}else{myAlert(_0x117d0f['errmsg'],'danger');}}});}